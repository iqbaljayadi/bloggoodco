jQuery(document).ready(function(){jQuery('#chimpy_widget_submit').click(function(){chimpy_process_mailchimp_signup(jQuery(this),'widget');});jQuery('#chimpy_shortcode_submit').click(function(){chimpy_process_mailchimp_signup(jQuery(this),'shortcode');});jQuery('#chimpy_after_posts_submit').click(function(){chimpy_process_mailchimp_signup(jQuery(this),'after_posts');});jQuery('#chimpy_popup_submit').click(function(){chimpy_process_mailchimp_signup(jQuery(this),'popup');});jQuery('.chimpy_signup_form').each(function(){var chimpy_button=jQuery(this).find('button');var chimpy_context=jQuery(this).find('#chimpy_form_context').val();jQuery(this).find('input[type="text"], input[type="email"]').each(function(){jQuery(this).keydown(function(e){if(e.keyCode===13){chimpy_process_mailchimp_signup(chimpy_button,chimpy_context);}});});});function chimpy_process_mailchimp_signup(button,context)
{if(jQuery('#chimpy_'+context).valid()){button.parent().parent().find('fieldset').fadeOut(function(){var this_form=jQuery(this).parent();this_form.find('#chimpy_signup_'+context+'_processing').fadeIn();button.prop('disabled',true);jQuery.post(chimpy_ajaxurl,{'action':'chimpy_subscribe','data':jQuery('#chimpy_'+context).serialize()},function(response){var result=jQuery.parseJSON(response);this_form.find('#chimpy_signup_'+context+'_processing').fadeOut(function(){if(result['error']==1){this_form.find('#chimpy_signup_'+context+'_error').fadeIn();}
else{this_form.find('#chimpy_signup_'+context+'_success').fadeIn();}});});});}}
jQuery('#chimpy_widget_submit').click(function(){});});